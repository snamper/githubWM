define(function(require,exports,module){var b=require("http://a.myhd.wumeiwang.com/hdgw/model/domains/dist/domains.js");require("../../wmtips/css/style.css");var d=require("http://a.myhd.wumeiwang.com/hdgw/model/lib/jquery/seajs-jquery-1.8.3.min.js"),c=require("http://a.myhd.wumeiwang.com/hdgw/model/lib/juicer/seajs-juicer-min.js");var a=function(k){var f=this;var i=d.extend({ele:"body",con:"",skin:"yellow1",width:"",height:"",close:false,offset:{},direction:"br",callBack:undefined,minIndex:2000},k);var e=c(['<div class="wm_tips ${skin} ${direction}" data-direction="${direction}" style="z-index:${minIndex}">','<div class="wm_tips_per ">','<div class="tips_arrow "><em>◆</em><span>◆</span></div>','<div class="wm_tips_con"></div>','<div class="close"><a href="#">×</a></div>',"</div>","</div>"].join(""));var h=function(){f.$this=d(i.ele);i.minIndex=i.minIndex+d(".wm_tips").length;f.$tipsBox=d(e.render(i));f.$tipsBox.on("click",".close",function(){f.hide();return false});f.$tipsCon=f.$tipsBox.find(".wm_tips_con");g=f.$tipsBox.find(".wm_tips_per");f.$tipsCon.empty().append(i.con);d("body").append(f.$tipsBox);f.position();typeof i.callBack==="function"&&i.callBack.call(f)};this.$tipsBox,this.$tipsCon,this.$this;this.isShow=false;var g,j=true;this.show=function(l){!f.$tipsBox&&h();if(!j){return}j=false;f.position();f.$tipsBox.fadeIn(function(){j=true});f.isShow=true;if(i.close){setTimeout(function(){f.hide()},i.close)}return f};this.hide=function(l){if(!j){return}j=false;f.$tipsBox.fadeOut(function(){j=true});f.isShow=false;return f};this.close=function(l){f.hide();f.$tipsBox.remove();f.$tipsBox=undefined;this.isShow=false;typeof l==="function"&&l.call(f);return f};this.position=function(o){var m=f.$this.offset(),l=f.$this.outerWidth(),n=f.$this.outerHeight(),s=f.$tipsBox.outerWidth(),r=f.$tipsBox.outerHeight();var q=o||f.$tipsBox.attr("data-direction");if(i.offset&&i.offset.top){m.top+=(i.offset.top-0||0)}if(i.offset&&i.offset.left){m.left+=(i.offset.left-0||0)}var p={br:{top:m.top+n,left:m.left+l-25},bc:{top:m.top+n,left:m.left+l/2-s/2},bl:{top:m.top+n,left:m.left-s+24},tr:{top:m.top-r,left:m.left+l-25},tc:{top:m.top-r,left:m.left+l/2-s/2},tl:{top:m.top-r,left:m.left-s+24},lt:{top:m.top-7,left:m.left-s-7},lc:{top:m.top-r/2+7,left:m.left-s-7},lb:{top:m.top-r+n+7,left:m.left-s-7},rt:{top:m.top-7,left:m.left+l-7},rc:{top:m.top-r/2+7,left:m.left+l+7},rb:{top:m.top-r+n+7,left:m.left+l+7}};if(p[q]){f.$tipsBox.css(p[q])}else{f.$tipsBox.addClass("br").attr("data-direction","br");f.$tipsBox.css(p.br)}return f};this.setCon=function(l,m){!f.$tipsBox&&h();f.$tipsCon.empty().append(l);typeof m==="function"&&m();return f};h()};return a});
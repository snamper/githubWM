define(function(require,exports,module){var a=require("http://a.myhd.wumeiwang.com/hdgw/model/domains/dist/domains.js");var c=require("http://a.myhd.wumeiwang.com/hdgw/model/lib/jquery/seajs-jquery-1.8.3.min.js");var d=require("http://a.myhd.wumeiwang.com/hdgw/model/wmarea/dist/area_data.js");var b=function(k){var j,f,e,h,i;j=function(l){return l.constructor==c?l:c(l)};var g={parent:c("body"),provincesEle:"#selProvince_rent",provincesVal:"0",cityEle:"#selCity_rent",cityVal:"0",districtsEle:"#selDistricts_rent",districtsVal:"0",provincesDataSource:d.data_province,provincesDataSourceAjaxData:{},provincesDataSourceDataValCode:"",cityDataSource:d.data_city,cityDataSourceAjaxData:{},cityDataSourceDataValCode:"",districtsDataSource:d.data_districts,districtsDataSourceAjaxData:{},districtsDataSourceDataValCode:"",defaultItem:{val:0,txt:"请选择"}};g=c.extend(g,k);g.parent=j(g.parent);g.provincesEle=g.parent.find(g.provincesEle);g.cityEle=g.parent.find(g.cityEle);g.districtsEle=g.parent.find(g.districtsEle);f=function(t,r,s,l,p){var n,o=[],m;if(!r||(r.constructor!=Array&&r.constructor!=Object)){return}n=j(t);for(var q in r){if(r.hasOwnProperty(q)){if(!s||!l){o.push('<option value="'+q+'">'+r[q]+"</option>")}else{o.push('<option value="'+r[q][s]+'">'+r[q][l]+"</option>")}}}n.empty().append('<option value="'+g.defaultItem.val+'">'+g.defaultItem.txt+"</option>");n.append(o.join("")).css("zoom","1");m={$this:n};typeof p==="function"&&p.call(m)};cityEleInit=function(){var l=j(this),m=l.val();if(typeof g.cityDataSource==="string"){c.ajax({url:g.cityDataSource,cache:false,data:typeof g.cityDataSourceAjaxData=="function"?g.cityDataSourceAjaxData.call({$this:l,val:m}):g.cityDataSourceAjaxData,dataType:"json",success:function(n){f(g.cityEle,n,g.cityDataSourceDataValCode,g.cityDataSourceDataTxtCode,function(){g.districtsEle.empty().append('<option value="'+g.defaultItem.val+'">'+g.defaultItem.txt+"</option>")})}})}else{f(g.cityEle,g.cityDataSource[m],"value","name",function(){g.districtsEle.empty().append('<option value="'+g.defaultItem.val+'">'+g.defaultItem.txt+"</option>")})}};districtsEleInit=function(){var l=j(this),m=l.val();if(typeof g.districtsDataSource==="string"){c.ajax({url:g.cityDataSource,cache:false,data:typeof g.cityDataSourceAjaxData=="function"?g.cityDataSourceAjaxData.call({$this:l,val:m}):g.cityDataSourceAjaxData,dataType:"json",success:function(n){f(g.cityEle,n,g.cityDataSourceDataValCode,g.cityDataSourceDataTxtCode)}})}else{f(g.districtsEle,g.districtsDataSource[m],"value","name",function(){!g.districtsDataSource[m].length&&g.districtsEle.find("option").attr("value",m)})}};h=function(){if(typeof g.provincesDataSource==="string"){c.ajax({url:g.provincesDataSource,cache:false,data:typeof g.provincesDataSourceAjaxData=="function"?g.provincesDataSourceAjaxData():g.provincesDataSourceAjaxData,dataType:"json",success:function(l){f(g.provincesEle,l,g.provincesDataSourceDataValCode,g.provincesDataSourceDataTxtCode)}})}else{f(g.provincesEle,g.provincesDataSource,g.provincesDataSourceDataValCode,g.provincesDataSourceDataTxtCode)}};g.provincesEle.length&&g.provincesEle.change(cityEleInit);g.cityEle.length&&g.cityEle.change(districtsEleInit);h();f(g.cityEle,[]);f(g.districtsEle,[])};return b});
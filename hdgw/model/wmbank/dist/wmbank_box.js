define(function(require,exports,module){var g=require("http://a.myhd.wumeiwang.com/hdgw/model/domains/dist/domains.js");require("http://a.myhd.wumeiwang.com/hdgw/model/wmarea/css/style.css");var b=require("http://a.myhd.wumeiwang.com/hdgw/model/lib/jquery/seajs-jquery-1.8.3.min.js"),a=require("http://a.myhd.wumeiwang.com/hdgw/model/lib/juicer/seajs-juicer-min.js"),c=require("http://a.myhd.wumeiwang.com/hdgw/model/wmbox/dist/wmbox.js"),e=require("http://a.myhd.wumeiwang.com/hdgw/model/wmbank/dist/bank_data.js");require("http://a.myhd.wumeiwang.com/hdgw/model/wmbank/css/style.css#");var d=a(['<div class="boxbank_mian">','<div class="search_box">','检索： <input type="text" class="search_txt" />',"</div>",'<ul class="boxbank_list">',"{@each bankList as list}",'<li class="boxbank_item" title="${list.name}">','<input type="radio" value="${list.id}" data_name="${list.name}" name="boxbank" id="boxbank_${list.id}" class="rad_boxbank"><label for="boxbank_${list.id}" class="boxbank_name">${list.name}</label>',"</li>","{@/each}","</ul>","</div>"].join(""));var f=function(h){return c.alert({titleText:"银行选择",boxCls:"bank_dialog",content:d.render({bankList:e.getArrayData()}),btns:[{cls:"ui_btn_h46red8 chked_btn",res:"hide",text:"确定"},{cls:"alink",res:"hide",text:"取消"}],callback:function(){var i=this;var j=this.wmBox.find(".boxbank_list");this.wmBox.on("keyup",".search_txt",function(){var l=b(this),k=b.trim(l.val());if(k){j.find(".boxbank_item").addClass("hidden");j.find(".boxbank_item[title*='"+k+"']").removeClass("hidden");j.find(".boxbank_item:not(.hidden)").each(function(){var m=b(this);m.find("label").empty().append(m.attr("title").replace(k,"<b>"+k+"</b>"))})}else{j.find(".hidden").removeClass("hidden");j.find(".boxbank_item:not(.hidden)").each(function(){var m=b(this);m.find("label").empty().append(m.attr("title"))})}});this.close=function(){i.hide()};if(typeof h.radioChangeCallback==="function"){this.wmBox.find(".rad_boxbank").on("change",function(){h.radioChangeCallback.call(i)})}if(typeof h.chkedCallback==="function"){this.wmBox.find(".chked_btn").on("click",function(){var k=i.wmBox.find(".rad_boxbank:checked");i.val=k.val();i.name=k.attr("data_name");h.chkedCallback.call(i)})}i.checked=function(k){if(k-0){i.wmBox.find(".rad_boxbank").removeAttr("checked");i.wmBox.find("#boxbank_"+k).attr("checked","checked")}};typeof h.callback==="function"&&h.callback.call(i)}})};exports.Create=function(i){var h=b.extend({radioChangeCallback:null,chkedCallback:null},i);return f(h)}});
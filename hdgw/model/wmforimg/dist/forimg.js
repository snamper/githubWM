define(function(require,exports,module){var h=require("http://a.myhd.wumeiwang.com/hdgw/model/domains/dist/domains.js");var f=require("http://a.myhd.wumeiwang.com/hdgw/model/lib/jquery/seajs-jquery-1.8.3.min.js");var e=function(i){return i instanceof f?i:f(i)};var c=function(j){var i;this.op=i=f.extend({forImgBoxEle:".wm_forimg_box",forImgBoxListEle:".wm_forimg_list",forImgItemEle:".for_img_item",forImgIndexsEle:".index_item",interval:3000},j);this.forImgBox=e(i.forImgBoxEle);this.forImgItem=this.forImgBox.find(i.forImgItemEle);this.forImgBoxList=this.forImgBox.find(i.forImgBoxListEle);this.indexs=this.forImgBox.find(i.forImgIndexsEle);this.prev=function(){};this.next=function(){};this.stop=function(){};this.automatic=function(){};this.setIndex=function(){}};var d=function(l){var j=this,p;c.apply(this,arguments);var o=false,i=false,n=l.direction;var m,k;m=function(q){var r=j.forImgBox.find(".curr");var s=r.index();r.removeClass("curr");if(q){s++;if(s>=j.indexs.length){s=0}}else{s--;if(s<0){s=j.indexs.length-1}}j.indexs.eq(s).addClass("curr")};k=function(){var q=f(this);j.forImgBoxList.append(q);if(n){q.css({height:j.Step})}else{q.css({width:j.Step})}j.forImgItem=j.forImgBox.find(j.op.forImgItemEle)};this.Step=l.Step||(n?this.forImgItem.eq(0).outerHeight():this.forImgItem.eq(0).outerWidth());this.forImgBox.css({position:"relative"});!n&&this.forImgBoxList.css({position:"absolute",width:j.Step*j.forImgItem.length});this.prev=function(r,s){var q;if(o){return}o=true;r=r||1;if(typeof r==="function"){s=r;r=1}while(r--){m(false);j.forImgItem=j.forImgBox.find(j.op.forImgItemEle);q=j.forImgItem.eq(j.forImgItem.length-1).css((n?"height":"width"),0);j.forImgBoxList.prepend(q);if(n){q.animate({height:j.Step},1000,function(){j.forImgItem=j.forImgBox.find(j.op.forImgItemEle);o=false;typeof s==="function"&&s.call(j)})}else{q.animate({width:j.Step},1000,function(){j.forImgItem=j.forImgBox.find(j.op.forImgItemEle);o=false;typeof s==="function"&&s.call(j)})}}};this.next=function(q,s){if(o){return}o=true;q=q||1;if(typeof q==="function"){s=q;q=1}for(var r=0;r<q;r++){m(true);if(n){j.forImgItem.eq(r).animate({height:0},1000,function(){k.call(this);o=false;typeof s==="function"&&s.call(j)})}else{j.forImgItem.eq(r).animate({width:0},1000,function(){k.call(this);o=false;typeof s==="function"&&s.call(j)})}}};this.stop=function(q){clearInterval(q||p)};this.automatic=function(q,r){if(i){return}i=true;j.forImgBox.hover(function(){j.stop(p)},function(){j.stop(p);p=setInterval(function(){q?j.next(r):j.prev(r)},j.op.interval)});p=setInterval(function(){q?j.next(r):j.prev(r)},j.op.interval)};this.setIndex=function(r){var s=e(r),u=j.forImgBox.find(".curr").index(),q;if(s.hasClass("curr")){return}q=u-s.index();if(q<0){j.next(Math.abs(q))}else{j.prev(q)}};typeof l.callback==="function"&&l.callback.call(this)};var b=function(l){var j=this,p;c.apply(this,arguments);var o=false,i=false,n=l.direction;var m,k;m=function(q){var r=j.forImgBox.find(".curr");var s=r.index();r.removeClass("curr");if(q){s++;if(s>=j.indexs.length){s=0}}else{s--;if(s<0){s=j.indexs.length-1}}j.indexs.eq(s).addClass("curr")};k=function(){var q=f(this);j.forImgBoxList.append(q);if(n){q.css({marginTop:0})}else{q.css({marginLeft:0})}j.forImgItem=j.forImgBox.find(j.op.forImgItemEle)};this.Step=l.Step||(n?this.forImgItem.eq(0).outerHeight():this.forImgItem.eq(0).outerWidth());this.forImgBox.css({position:"relative"});!n&&this.forImgBoxList.css({position:"absolute",width:j.Step*j.forImgItem.length});this.prev=function(r,s){var q;if(o){return}o=true;r=r||1;if(typeof r==="function"){s=r;r=1}while(r--){m(false);j.forImgItem=j.forImgBox.find(j.op.forImgItemEle);q=j.forImgItem.eq(j.forImgItem.length-1).css((n?"marginTop":"marginLeft"),-this.Step);j.forImgBoxList.prepend(q);if(n){q.animate({marginTop:0},1000,function(){j.forImgItem=j.forImgBox.find(j.op.forImgItemEle);o=false;typeof s==="function"&&s.call(j)})}else{q.animate({marginLeft:0},1000,function(){j.forImgItem=j.forImgBox.find(j.op.forImgItemEle);o=false;typeof s==="function"&&s.call(j)})}}};this.next=function(q,s){if(o){return}o=true;q=q||1;if(typeof q==="function"){s=q;q=1}for(var r=0;r<q;r++){m(true);if(n){j.forImgItem.eq(r).animate({marginTop:-j.Step},1000,function(){k.call(this);o=false;typeof s==="function"&&s.call(j)})}else{j.forImgItem.eq(r).animate({marginLeft:-j.Step},1000,function(){k.call(this);o=false;typeof s==="function"&&s.call(j)})}}};this.stop=function(q){clearInterval(q||p)};this.automatic=function(q,r){if(i){return}i=true;j.forImgBox.hover(function(){j.stop(p)},function(){j.stop(p);p=setInterval(function(){q?j.next(r):j.prev(r)},j.op.interval)});p=setInterval(function(){q?j.next(r):j.prev(r)},j.op.interval)};this.setIndex=function(r){var s=e(r),u=j.forImgBox.find(".curr").index(),q;if(s.hasClass("curr")){return}q=u-s.index();if(q<0){j.next(Math.abs(q))}else{j.prev(q)}};typeof l.callback==="function"&&l.callback.call(this)};var g=function(k){var j=this,m;c.apply(this,arguments);var l=false,i=false;this.forImgBox.css({position:"relative"});this.forImgBoxList.css({position:"relative"});this.forImgItem.css({position:"absolute",display:"none"});this.forImgItem.eq(0).css({display:"block"});this.prev=function(p){var o=this.forImgBox.find(j.op.forImgItemEle+":visible"),n;n=o.prev();j.setIndex(n.length?n:j.forImgItem.last(),p)};this.next=function(p){var o=this.forImgBox.find(j.op.forImgItemEle+":visible"),n;n=o.next();j.setIndex(n.length?n:j.forImgItem.first(),p)};this.stop=function(n){clearInterval(n||m)};this.automatic=function(n,o){if(i){return}i=true;j.forImgBox.hover(function(){j.stop(m)},function(){j.stop(m);m=setInterval(function(){n?j.next(o):j.prev(o)},j.op.interval)});m=setInterval(function(){n?j.next(o):j.prev(o)},j.op.interval)};this.setIndex=function(o,p){if(l){return}l=true;if(typeof o==="number"){o=this.forImgItem.eq(o)}var q=e(o),r=q.index();var n=this.forImgBox.find(this.op.forImgItemEle+":visible");this.indexs.removeClass("curr");this.indexs.eq(r).addClass("curr");n.fadeOut(500);j.forImgItem.eq(r).fadeIn(1000,function(){l=false;typeof p==="function"&&p.call(j,f(this))})};typeof k.callback==="function"&&k.callback.call(this)};var a=function(j){var s=this,p;if(!j.forData||j.forData.constructor!=Array||!j.forData.length){throw"forImg module interface parameters forData abnormal ChangeSiseï¼"}var i=j.forData;c.apply(this,arguments);var n=false,m=false;this.forImgBox.css({position:"relative"});this.forImgBoxList.css({position:"relative"});var q=function(){r()};var o=this.forImgItem.length;var k=i.length;var l=parseInt(o/k)+(o%2?1:0);var r=function(t){if(n){return}n=true;s.forImgItem.each(function(){var v=f(this);var x=v.index()+1;var w=x;var u=i[x-1]||i[k-1];if(x>l){w=l-(x-l)}if(i[x-1]){w++}v.css({"z-index":w<=0?1:w,position:"absolute"});if(u.addClass){typeof u.addClass==="function"&&u.addClass.call(v);typeof u.addClass==="string"&&v.addClass(u.addClass)}v.stop().animate(f.extend({top:"50%",left:"50%"},u.style),s.animateOutTime||1000,function(){if(u.removeClass){typeof u.removeClass==="function"&&u.removeClass.call(v);typeof u.removeClass==="string"&&v.removeClass(u.removeClass)}typeof t==="function"&&t.call(s);n=false})})};this.prev=function(u){if(n){return}var t=i[k-1];s.forImgBoxList.append(s.forImgItem.eq(0));s.forImgItem=s.forImgBox.find(s.op.forImgItemEle);r(u)};this.next=function(u){if(n){return}var t=i[0];s.forImgBoxList.prepend(s.forImgItem.last());s.forImgItem=s.forImgBox.find(s.op.forImgItemEle);r(u)};this.stop=function(t){clearInterval(t||p)};this.automatic=function(t,u){if(m){return}m=true;s.forImgBox.hover(function(){s.stop(p)},function(){s.stop(p);p=setInterval(function(){t?s.next(u):s.prev(u)},s.op.interval)});p=setInterval(function(){t?s.next(u):s.prev(u)},s.op.interval)};typeof j.callback==="function"&&j.callback.call(this);q()};exports.Shuffle=d;exports.Slide=b;exports.Fade=g;exports.ChangeSise=a});